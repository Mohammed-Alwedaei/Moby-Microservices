@*
    Page: Update a product
    Authorization Level: Admin
    Purpose: Display a form with the corresponding product to be updated
    Data to be collected: Product Dto
*@

@page "/Products/Update"

<PageTitle>Moby || Update product</PageTitle>

<h1>Update Product</h1>

<EditForm Model="Product"
          class="row"
          OnValidSubmit="BeginProductUpdate">

    <InputNumber @bind-Value="Product.Id" hidden/>

    <div class="col-lg-6 col-md-12 mb-3">
        <label for="@nameof(Product.Name)"
               class="mb-3">Product Name</label>

        <InputText id="@nameof(Product.Name)"
                   class="form-control"
                   @bind-Value="Product.Name"
                   placeholder="My lovely product..."/>

        <ValidationMessage For="() => Product.Name"/>
    </div>

    <div class="col-lg-6 col-md-12 mb-3">
        <label for="@nameof(Product.Price)" class="mb-3">Product Price</label>

        <InputNumber id="@nameof(Product.Price)"
                     class="form-control"
                     @bind-Value="Product.Price"
                     placeholder="13.99"/>

        <ValidationMessage For="() => Product.Price"/>
    </div>

    <div class="col-lg-6 col-md-12 mb-3">
        <label for="@nameof(Product.Category)"
               class="mb-3">
            Product Category
        </label>

        <InputText id="@nameof(Product.Category)"
                   class="form-control"
                   @bind-Value="Product.Category"
                   placeholder="Electronics"/>

        <ValidationMessage For="() => Product.Category"/>
    </div>

    <div class="col-lg-6 col-md-12 mb-3">
        <label for="@nameof(Product.ImageUrl)"
               class="mb-3">
            Product Image URL
        </label>

        <InputText id="@nameof(Product.ImageUrl)" 
                   class="form-control" 
                   @bind-Value="Product.ImageUrl" 
                   placeholder="https://mygreatlink/images/somelinks...."/>

        <ValidationMessage For="() => Product.ImageUrl"/>
    </div>

    <div class="col-12 mb-3">
        <label for="@nameof(Product.Description)"
               class="mb-3">
            Product Description
        </label>
        <InputTextArea 
            id="@nameof(Product.Description)" 
            class="form-control" @bind-Value="Product.Description" 
            placeholder="This great product has..."/>
        <ValidationMessage For="() => Product.Description"/>
    </div>

    <div class="col-3">
        <button class="btn btn-primary">Update</button>
    </div>
</EditForm>